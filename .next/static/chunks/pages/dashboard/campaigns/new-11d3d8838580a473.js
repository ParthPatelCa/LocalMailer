(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{1759:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/campaigns/new",function(){return a(5321)}])},9894:function(e,s,a){"use strict";a.d(s,{Z:function(){return f}});var t=a(5893),l=a(7294),n=a(3299),i=a(1664),r=a.n(i),c=a(1163),d=a(8387);let m=(0,d.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=a(8936),x=a(802),h=a(6271),u=a(467);let p=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var y=a(1203);let g=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function f(e){var s,a,i;let{children:d}=e,{data:f}=(0,n.useSession)(),j=(0,c.useRouter)(),[b,N]=(0,l.useState)(!1),v=[{name:"Overview",href:"/dashboard",icon:m},{name:"Contacts",href:"/dashboard/contacts",icon:o.Z},{name:"Campaigns",href:"/dashboard/campaigns",icon:x.Z},{name:"Templates",href:"/dashboard/templates",icon:h.Z},{name:"Analytics",href:"/dashboard/analytics",icon:u.Z},{name:"Settings",href:"/dashboard/settings",icon:p}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"".concat(b?"block":"hidden"," fixed inset-0 flex z-40 lg:hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>N(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>N(!1),children:(0,t.jsx)(y.Z,{className:"h-6 w-6 text-white"})})}),(0,t.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 flex items-center px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:v.map(e=>{let s=e.icon,a=j.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(a?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]})]})]}),(0,t.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:v.map(e=>{let s=e.icon,a=j.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(a?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center w-full",children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:"inline-block h-9 w-9 rounded-full",src:(null==f?void 0:null===(s=f.user)||void 0===s?void 0:s.image)||"/api/placeholder/36/36",alt:""})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:null==f?void 0:null===(a=f.user)||void 0===a?void 0:a.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(i=null==f?void 0:f.user)||void 0===i?void 0:i.plan)||"Free"," Plan"]})]})]})})]})}),(0,t.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-50",children:(0,t.jsx)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>N(!0),children:(0,t.jsx)(g,{className:"h-6 w-6"})})}),(0,t.jsx)("main",{className:"flex-1",children:(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d})})})]})]})}},5321:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return y},default:function(){return g}});var t=a(5893),l=a(9894),n=a(7294);let i=(0,a(8387).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var r=a(8936),c=a(1590),d=a(1321),m=a(705),o=a(802),x=a(1664),h=a.n(x),u=a(1163);function p(){let[e,s]=(0,n.useState)({name:"",subject:"",previewText:"",templateId:"",segmentId:"",content:"",scheduledAt:"",fromName:"",fromEmail:"",replyTo:""}),[a,l]=(0,n.useState)(!1),[x,p]=(0,n.useState)(""),[y,g]=(0,n.useState)(1),f=(0,u.useRouter)(),j=[{id:"launch",name:"Product Launch",description:"Announce your new product or course",category:"announcement",preview:"Clean layout with hero image and clear CTA"},{id:"newsletter",name:"Newsletter",description:"Regular updates for your audience",category:"newsletter",preview:"Simple text-focused design with sections"},{id:"update",name:"Product Update",description:"Share updates and improvements",category:"update",preview:"Feature highlights with visual elements"}],b=e=>{let{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))},N=async s=>{l(!0),p("");try{let a={...e,status:"send"===s?"sending":"schedule"===s?"scheduled":"draft"},t=await fetch("/api/campaigns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(t.ok)f.push("/dashboard/campaigns");else{let e=await t.json();p(e.error||"Failed to create campaign")}}catch(e){p("Failed to create campaign. Please try again.")}finally{l(!1)}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(h(),{href:"/dashboard/campaigns",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]})}),(0,t.jsx)("div",{className:"md:flex md:items-center md:justify-between mb-8",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Create New Campaign"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Design and send emails to your audience."})]})}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("nav",{className:"flex items-center justify-center","aria-label":"Progress",children:(0,t.jsx)("ol",{className:"flex items-center space-x-5",children:[{number:1,name:"Details"},{number:2,name:"Content"},{number:3,name:"Recipients"},{number:4,name:"Send"}].map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 ".concat(y>=e.number?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"),children:e.number}),(0,t.jsx)("span",{className:"ml-2 text-sm font-medium ".concat(y>=e.number?"text-blue-600":"text-gray-500"),children:e.name}),s<3&&(0,t.jsx)("div",{className:"ml-5 w-8 h-0.5 bg-gray-300"})]},e.name))})})}),(0,t.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,t.jsxs)("div",{className:"p-6",children:[x&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:x})}),(()=>{switch(y){case 1:return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Campaign Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",required:!0,className:"input-field mt-1",placeholder:"Q1 Product Update",value:e.name,onChange:b}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Internal name for this campaign"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"fromName",className:"block text-sm font-medium text-gray-700",children:"From Name"}),(0,t.jsx)("input",{type:"text",id:"fromName",name:"fromName",className:"input-field mt-1",placeholder:"Your Name",value:e.fromName,onChange:b})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Email Subject *"}),(0,t.jsx)("input",{type:"text",id:"subject",name:"subject",required:!0,className:"input-field mt-1",placeholder:"\uD83D\uDE80 Exciting updates from [Your Project]",value:e.subject,onChange:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"previewText",className:"block text-sm font-medium text-gray-700",children:"Preview Text"}),(0,t.jsx)("input",{type:"text",id:"previewText",name:"previewText",className:"input-field mt-1",placeholder:"Quick preview text that appears in email clients...",value:e.previewText,onChange:b}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"This text appears next to the subject line in email clients"})]})]});case 2:return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Choose Template"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:j.map(a=>(0,t.jsxs)("div",{className:"border-2 rounded-lg p-4 cursor-pointer transition-colors ".concat(e.templateId===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>s(e=>({...e,templateId:a.id})),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:a.name}),(0,t.jsx)(i,{className:"h-5 w-5 text-gray-400"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:a.description}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:a.preview})]},a.id))}),e.templateId&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Email Content"}),(0,t.jsx)("textarea",{id:"content",name:"content",rows:12,className:"input-field mt-1",placeholder:"Write your email content here...",value:e.content,onChange:b}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You can use Markdown formatting or HTML"})]})]});case 3:return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Select Recipients"}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(r.Z,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,t.jsx)("span",{className:"font-medium text-blue-900",children:"All Subscribers"})]}),(0,t.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Send to all active contacts (estimated: 1,234 recipients)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"segmentId",className:"block text-sm font-medium text-gray-700",children:"Or choose a segment"}),(0,t.jsxs)("select",{id:"segmentId",name:"segmentId",className:"input-field mt-1",value:e.segmentId,onChange:b,children:[(0,t.jsx)("option",{value:"",children:"Send to all contacts"}),(0,t.jsx)("option",{value:"newsletter-subscribers",children:"Newsletter Subscribers (892)"}),(0,t.jsx)("option",{value:"course-customers",children:"Course Customers (156)"}),(0,t.jsx)("option",{value:"engaged-users",children:"Engaged Users (445)"})]})]})]});case 4:var a;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Review & Send"}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Campaign Details"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Subject:"})," ",e.subject]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"From:"})," ",e.fromName||"Your Name"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Template:"})," ",(null===(a=j.find(s=>s.id===e.templateId))||void 0===a?void 0:a.name)||"None"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Recipients"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Segment:"})," ",e.segmentId||"All Contacts"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Estimated reach:"})," 1,234 contacts"]})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"scheduledAt",className:"block text-sm font-medium text-gray-700",children:"Schedule for later (optional)"}),(0,t.jsx)("input",{type:"datetime-local",id:"scheduledAt",name:"scheduledAt",className:"input-field mt-1",value:e.scheduledAt,onChange:b})]})]});default:return null}})(),(0,t.jsxs)("div",{className:"flex justify-between pt-6 border-t border-gray-200 mt-8",children:[(0,t.jsx)("button",{onClick:()=>g(Math.max(1,y-1)),disabled:1===y,className:"btn-outline disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("div",{className:"flex space-x-3",children:4===y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>N("draft"),disabled:a,className:"btn-outline",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),e.scheduledAt?(0,t.jsxs)("button",{onClick:()=>N("schedule"),disabled:a,className:"btn-primary",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Schedule Campaign"]}):(0,t.jsxs)("button",{onClick:()=>N("send"),disabled:a,className:"btn-primary",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Send Now"]})]}):(0,t.jsx)("button",{onClick:()=>g(Math.min(4,y+1)),disabled:1===y&&(!e.name||!e.subject)||2===y&&!e.templateId,className:"btn-primary",children:"Continue"})})]})]})})]})}var y=!0;function g(){return(0,t.jsx)(l.Z,{children:(0,t.jsx)(p,{})})}},1163:function(e,s,a){e.exports=a(2937)},1590:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},467:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},705:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1321:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},802:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},1203:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[585,774,888,179],function(){return e(e.s=1759)}),_N_E=e.O()}]);