(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{6320:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/campaigns",function(){return a(4682)}])},9894:function(e,s,a){"use strict";a.d(s,{Z:function(){return j}});var t=a(5893),l=a(7294),n=a(3299),i=a(1664),c=a.n(i),r=a(1163),d=a(8387);let x=(0,d.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var m=a(8936),h=a(802),o=a(6271),u=a(467);let f=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var y=a(1203);let g=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function j(e){var s,a,i;let{children:d}=e,{data:j}=(0,n.useSession)(),p=(0,r.useRouter)(),[v,N]=(0,l.useState)(!1),b=[{name:"Overview",href:"/dashboard",icon:x},{name:"Contacts",href:"/dashboard/contacts",icon:m.Z},{name:"Campaigns",href:"/dashboard/campaigns",icon:h.Z},{name:"Templates",href:"/dashboard/templates",icon:o.Z},{name:"Analytics",href:"/dashboard/analytics",icon:u.Z},{name:"Settings",href:"/dashboard/settings",icon:f}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"".concat(v?"block":"hidden"," fixed inset-0 flex z-40 lg:hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>N(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>N(!1),children:(0,t.jsx)(y.Z,{className:"h-6 w-6 text-white"})})}),(0,t.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 flex items-center px-4",children:[(0,t.jsx)(o.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:b.map(e=>{let s=e.icon,a=p.pathname===e.href;return(0,t.jsxs)(c(),{href:e.href,className:"".concat(a?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]})]})]}),(0,t.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4",children:[(0,t.jsx)(o.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:b.map(e=>{let s=e.icon,a=p.pathname===e.href;return(0,t.jsxs)(c(),{href:e.href,className:"".concat(a?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center w-full",children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:"inline-block h-9 w-9 rounded-full",src:(null==j?void 0:null===(s=j.user)||void 0===s?void 0:s.image)||"/api/placeholder/36/36",alt:""})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:null==j?void 0:null===(a=j.user)||void 0===a?void 0:a.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(i=null==j?void 0:j.user)||void 0===i?void 0:i.plan)||"Free"," Plan"]})]})]})})]})}),(0,t.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-50",children:(0,t.jsx)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>N(!0),children:(0,t.jsx)(g,{className:"h-6 w-6"})})}),(0,t.jsx)("main",{className:"flex-1",children:(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d})})})]})]})}},4682:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return j},default:function(){return p}});var t=a(5893),l=a(9894),n=a(7294),i=a(8347),c=a(802),r=a(8387);let d=(0,r.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),x=(0,r.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var m=a(467),h=a(7706);let o=(0,r.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var u=a(7150),f=a(1664),y=a.n(f);function g(){let[e,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[r,f]=(0,n.useState)("all");(0,n.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("/api/campaigns");if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching campaigns:",e)}finally{l(!1)}},j=e=>{switch(e){case"sent":return"bg-green-100 text-green-800";case"scheduled":return"bg-blue-100 text-blue-800";case"draft":default:return"bg-gray-100 text-gray-800";case"sending":return"bg-yellow-100 text-yellow-800"}},p=e.filter(e=>"all"===r||e.status===r);return a?(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,t.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"h-16 bg-gray-200 rounded"},s))})]})})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Campaigns"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Create and manage your email marketing campaigns."})]}),(0,t.jsx)("div",{className:"mt-4 flex space-x-3 md:mt-0 md:ml-4",children:(0,t.jsxs)(y(),{href:"/dashboard/campaigns/new",className:"btn-primary inline-flex items-center",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(c.Z,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Sent"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.filter(e=>"sent"===e.status).length})]})})]})}),(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(d,{className:"h-8 w-8 text-blue-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Scheduled"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.filter(e=>"scheduled"===e.status).length})]})})]})}),(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(x,{className:"h-8 w-8 text-gray-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Drafts"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.filter(e=>"draft"===e.status).length})]})})]})}),(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(m.Z,{className:"h-8 w-8 text-purple-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg. Open Rate"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.filter(e=>e.openRate).length>0?"".concat(Math.round(e.filter(e=>e.openRate).reduce((e,s)=>e+(s.openRate||0),0)/e.filter(e=>e.openRate).length),"%"):"0%"})]})})]})})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"All Campaigns"}),(0,t.jsxs)("select",{className:"input-field w-auto",value:r,onChange:e=>f(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"sending",children:"Sending"}),(0,t.jsx)("option",{value:"sent",children:"Sent"})]})]})}),0===p.length&&!a&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(c.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No campaigns"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:0===e.length?"Get started by creating your first email campaign.":"No campaigns match your filter criteria."}),0===e.length&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)(y(),{href:"/dashboard/campaigns/new",className:"btn-primary inline-flex items-center",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})})]}),p.length>0&&(0,t.jsx)("div",{className:"overflow-hidden",children:p.map(e=>(0,t.jsx)("div",{className:"border-b border-gray-200 hover:bg-gray-50",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(j(e.status)),children:e.status})]}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-600 truncate",children:["Subject: ",e.subject]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center space-x-6 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["Recipients: ",e.recipients.toLocaleString()]}),void 0!==e.openRate&&(0,t.jsxs)("span",{children:["Open Rate: ",e.openRate,"%"]}),void 0!==e.clickRate&&(0,t.jsxs)("span",{children:["Click Rate: ",e.clickRate,"%"]}),e.sentAt&&(0,t.jsxs)("span",{children:["Sent: ",new Date(e.sentAt).toLocaleDateString()]}),e.scheduledAt&&(0,t.jsxs)("span",{children:["Scheduled: ",new Date(e.scheduledAt).toLocaleDateString()]}),!e.sentAt&&!e.scheduledAt&&(0,t.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:["sent"===e.status&&(0,t.jsxs)(y(),{href:"/dashboard/campaigns/".concat(e.id,"/analytics"),className:"btn-outline text-sm",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"Analytics"]}),(0,t.jsxs)(y(),{href:"/dashboard/campaigns/".concat(e.id),className:"btn-outline text-sm",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),"View"]}),("draft"===e.status||"scheduled"===e.status)&&(0,t.jsxs)(y(),{href:"/dashboard/campaigns/".concat(e.id,"/edit"),className:"btn-outline text-sm",children:[(0,t.jsx)(x,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,t.jsxs)("button",{className:"btn-outline text-sm",children:[(0,t.jsx)(o,{className:"h-4 w-4 mr-1"}),"Duplicate"]}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-gray-500 p-1",children:(0,t.jsx)(u.Z,{className:"h-5 w-5"})})]})]})})},e.id))})]})]})}var j=!0;function p(){return(0,t.jsx)(l.Z,{children:(0,t.jsx)(g,{})})}},1163:function(e,s,a){e.exports=a(2937)},467:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},7706:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7150:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},8347:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},802:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},1203:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[585,774,888,179],function(){return e(e.s=6320)}),_N_E=e.O()}]);