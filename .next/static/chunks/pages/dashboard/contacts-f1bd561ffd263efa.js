(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{6936:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/contacts",function(){return a(9543)}])},9894:function(e,s,a){"use strict";a.d(s,{Z:function(){return j}});var t=a(5893),l=a(7294),i=a(3299),n=a(1664),r=a.n(n),c=a(1163),d=a(8387);let x=(0,d.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var m=a(8936),o=a(802),h=a(6271),u=a(467);let f=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var y=a(1203);let p=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function j(e){var s,a,n;let{children:d}=e,{data:j}=(0,i.useSession)(),g=(0,c.useRouter)(),[N,v]=(0,l.useState)(!1),b=[{name:"Overview",href:"/dashboard",icon:x},{name:"Contacts",href:"/dashboard/contacts",icon:m.Z},{name:"Campaigns",href:"/dashboard/campaigns",icon:o.Z},{name:"Templates",href:"/dashboard/templates",icon:h.Z},{name:"Analytics",href:"/dashboard/analytics",icon:u.Z},{name:"Settings",href:"/dashboard/settings",icon:f}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"".concat(N?"block":"hidden"," fixed inset-0 flex z-40 lg:hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>v(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>v(!1),children:(0,t.jsx)(y.Z,{className:"h-6 w-6 text-white"})})}),(0,t.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 flex items-center px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:b.map(e=>{let s=e.icon,a=g.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(a?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]})]})]}),(0,t.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:b.map(e=>{let s=e.icon,a=g.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(a?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(s,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center w-full",children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:"inline-block h-9 w-9 rounded-full",src:(null==j?void 0:null===(s=j.user)||void 0===s?void 0:s.image)||"/api/placeholder/36/36",alt:""})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:null==j?void 0:null===(a=j.user)||void 0===a?void 0:a.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(n=null==j?void 0:j.user)||void 0===n?void 0:n.plan)||"Free"," Plan"]})]})]})})]})}),(0,t.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-50",children:(0,t.jsx)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>v(!0),children:(0,t.jsx)(p,{className:"h-6 w-6"})})}),(0,t.jsx)("main",{className:"flex-1",children:(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d})})})]})]})}},9543:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return p},default:function(){return j}});var t=a(5893),l=a(9894),i=a(7294),n=a(9735),r=a(8347),c=a(8387);let d=(0,c.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),x=(0,c.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var m=a(6271);let o=(0,c.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var h=a(7150),u=a(1664),f=a.n(u);function y(){let[e,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[y,p]=(0,i.useState)("all");(0,i.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=await fetch("/api/contacts");if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching contacts:",e)}finally{l(!1)}},g=e.filter(e=>{var s,a;let t=""===c||e.email.toLowerCase().includes(c.toLowerCase())||(null===(s=e.firstName)||void 0===s?void 0:s.toLowerCase().includes(c.toLowerCase()))||(null===(a=e.lastName)||void 0===a?void 0:a.toLowerCase().includes(c.toLowerCase())),l="all"===y||e.status===y;return t&&l});return a?(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,t.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"h-12 bg-gray-200 rounded"},s))})]})})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Contacts"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your email subscribers and audience segments."})]}),(0,t.jsxs)("div",{className:"mt-4 flex space-x-3 md:mt-0 md:ml-4",children:[(0,t.jsxs)(f(),{href:"/dashboard/contacts/import",className:"btn-outline inline-flex items-center",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Import"]}),(0,t.jsxs)(f(),{href:"/dashboard/contacts/new",className:"btn-primary inline-flex items-center",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"Add Contact"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 lg:grid-cols-4 mb-8",children:[(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Subscribed"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.filter(e=>"subscribed"===e.status).length})]})})]})}),(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Unsubscribed"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.filter(e=>"unsubscribed"===e.status).length})]})})]})}),(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Bounced"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.filter(e=>"bounced"===e.status).length})]})})]})}),(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total"}),(0,t.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.length})]})})]})})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("div",{className:"max-w-lg w-full lg:max-w-xs",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(d,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{type:"search",className:"input-field pl-10",placeholder:"Search contacts...",value:c,onChange:e=>u(e.target.value)})]})})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("select",{className:"input-field w-auto",value:y,onChange:e=>p(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"subscribed",children:"Subscribed"}),(0,t.jsx)("option",{value:"unsubscribed",children:"Unsubscribed"}),(0,t.jsx)("option",{value:"bounced",children:"Bounced"})]}),(0,t.jsxs)("button",{className:"btn-outline",children:[(0,t.jsx)(x,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})]})}),0===g.length&&!a&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(m.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No contacts"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:0===e.length?"Get started by importing your contacts or adding them manually.":"No contacts match your search criteria."}),0===e.length&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)(f(),{href:"/dashboard/contacts/import",className:"btn-primary inline-flex items-center",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Import Contacts"]})})]}),g.length>0&&(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tags"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),(0,t.jsx)("th",{className:"relative px-6 py-3",children:(0,t.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(e=>{var s;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null===(s=e.firstName)||void 0===s?void 0:s[0])||e.email[0].toUpperCase()})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.firstName&&e.lastName?"".concat(e.firstName," ").concat(e.lastName):e.email}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,t.jsx)(m.Z,{className:"h-3 w-3 mr-1"}),e.email]}),e.phone&&(0,t.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,t.jsx)(o,{className:"h-3 w-3 mr-1"}),e.phone]})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("subscribed"===e.status?"bg-green-100 text-green-800":"unsubscribed"===e.status?"bg-red-100 text-red-800":"bounced"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,2).map((e,s)=>(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:e},s)),e.tags.length>2&&(0,t.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-500 rounded",children:["+",e.tags.length-2]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.source}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsx)("button",{className:"text-gray-400 hover:text-gray-500",children:(0,t.jsx)(h.Z,{className:"h-5 w-5"})})})]},e.id)})})]})})]})]})}var p=!0;function j(){return(0,t.jsx)(l.Z,{children:(0,t.jsx)(y,{})})}},1163:function(e,s,a){e.exports=a(2937)},467:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},7150:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},8347:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},802:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},9735:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},1203:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(8387).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[585,774,888,179],function(){return e(e.s=6936)}),_N_E=e.O()}]);