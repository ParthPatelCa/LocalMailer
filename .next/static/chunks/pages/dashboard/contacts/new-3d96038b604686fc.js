(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{7745:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/contacts/new",function(){return s(5723)}])},9894:function(e,a,s){"use strict";s.d(a,{Z:function(){return g}});var t=s(5893),l=s(7294),n=s(3299),i=s(1664),r=s.n(i),c=s(1163),d=s(8387);let m=(0,d.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=s(8936),x=s(802),h=s(6271),u=s(467);let f=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var p=s(1203);let y=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function g(e){var a,s,i;let{children:d}=e,{data:g}=(0,n.useSession)(),N=(0,c.useRouter)(),[j,v]=(0,l.useState)(!1),b=[{name:"Overview",href:"/dashboard",icon:m},{name:"Contacts",href:"/dashboard/contacts",icon:o.Z},{name:"Campaigns",href:"/dashboard/campaigns",icon:x.Z},{name:"Templates",href:"/dashboard/templates",icon:h.Z},{name:"Analytics",href:"/dashboard/analytics",icon:u.Z},{name:"Settings",href:"/dashboard/settings",icon:f}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"".concat(j?"block":"hidden"," fixed inset-0 flex z-40 lg:hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>v(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>v(!1),children:(0,t.jsx)(p.Z,{className:"h-6 w-6 text-white"})})}),(0,t.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 flex items-center px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:b.map(e=>{let a=e.icon,s=N.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(s?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(a,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]})]})]}),(0,t.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:b.map(e=>{let a=e.icon,s=N.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(s?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(a,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center w-full",children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:"inline-block h-9 w-9 rounded-full",src:(null==g?void 0:null===(a=g.user)||void 0===a?void 0:a.image)||"/api/placeholder/36/36",alt:""})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:null==g?void 0:null===(s=g.user)||void 0===s?void 0:s.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(i=null==g?void 0:g.user)||void 0===i?void 0:i.plan)||"Free"," Plan"]})]})]})})]})}),(0,t.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-50",children:(0,t.jsx)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>v(!0),children:(0,t.jsx)(y,{className:"h-6 w-6"})})}),(0,t.jsx)("main",{className:"flex-1",children:(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d})})})]})]})}},5723:function(e,a,s){"use strict";s.r(a),s.d(a,{__N_SSP:function(){return u},default:function(){return f}});var t=s(5893),l=s(9894),n=s(7294),i=s(1590),r=s(8347),c=s(1203),d=s(1321),m=s(1664),o=s.n(m),x=s(1163);function h(){let[e,a]=(0,n.useState)({email:"",firstName:"",lastName:"",phone:"",tags:[]}),[s,l]=(0,n.useState)(""),[m,h]=(0,n.useState)(!1),[u,f]=(0,n.useState)(""),p=(0,x.useRouter)(),y=e=>{let{name:s,value:t}=e.target;a(e=>({...e,[s]:t}))},g=()=>{s.trim()&&!e.tags.includes(s.trim())&&(a(e=>({...e,tags:[...e.tags,s.trim()]})),l(""))},N=e=>{a(a=>({...a,tags:a.tags.filter(a=>a!==e)}))},j=async a=>{a.preventDefault(),h(!0),f("");try{let a=await fetch("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)p.push("/dashboard/contacts");else{let e=await a.json();f(e.error||"Failed to create contact")}}catch(e){f("Failed to create contact. Please try again.")}finally{h(!1)}};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(o(),{href:"/dashboard/contacts",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Back to Contacts"]})}),(0,t.jsx)("div",{className:"md:flex md:items-center md:justify-between mb-8",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Add New Contact"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Create a new contact for your email campaigns."})]})}),(0,t.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,t.jsxs)("form",{onSubmit:j,className:"p-6 space-y-6",children:[u&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:u})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",required:!0,className:"input-field mt-1",placeholder:"contact@business.com",value:e.email,onChange:y})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",id:"phone",name:"phone",className:"input-field mt-1",placeholder:"(555) 123-4567",value:e.phone,onChange:y})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,t.jsx)("input",{type:"text",id:"firstName",name:"firstName",className:"input-field mt-1",placeholder:"John",value:e.firstName,onChange:y})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,t.jsx)("input",{type:"text",id:"lastName",name:"lastName",className:"input-field mt-1",placeholder:"Doe",value:e.lastName,onChange:y})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"text",className:"input-field flex-1",placeholder:"Add a tag...",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),g())}}),(0,t.jsx)("button",{type:"button",onClick:g,className:"btn-outline flex-shrink-0",children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})})]}),e.tags.length>0&&(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:e.tags.map((e,a)=>(0,t.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>N(e),className:"ml-2 text-blue-600 hover:text-blue-500",children:(0,t.jsx)(c.Z,{className:"h-3 w-3"})})]},a))})]}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Tags help you organize and segment your contacts."})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,t.jsx)(o(),{href:"/dashboard/contacts",className:"btn-outline",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:m||!e.email,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Save Contact"]})})]})]})})]})}var u=!0;function f(){return(0,t.jsx)(l.Z,{children:(0,t.jsx)(h,{})})}},1163:function(e,a,s){e.exports=s(2937)},1590:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},467:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},8347:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1321:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},802:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},1203:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[585,774,888,179],function(){return e(e.s=7745)}),_N_E=e.O()}]);