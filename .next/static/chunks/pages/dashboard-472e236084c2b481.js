(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(6914)}])},9894:function(e,a,s){"use strict";s.d(a,{Z:function(){return g}});var t=s(5893),l=s(7294),i=s(3299),n=s(1664),r=s.n(n),c=s(1163),d=s(8387);let m=(0,d.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=s(8936),x=s(802),h=s(6271),p=s(467);let u=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var f=s(1203);let y=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function g(e){var a,s,n;let{children:d}=e,{data:g}=(0,i.useSession)(),v=(0,c.useRouter)(),[j,N]=(0,l.useState)(!1),b=[{name:"Overview",href:"/dashboard",icon:m},{name:"Contacts",href:"/dashboard/contacts",icon:o.Z},{name:"Campaigns",href:"/dashboard/campaigns",icon:x.Z},{name:"Templates",href:"/dashboard/templates",icon:h.Z},{name:"Analytics",href:"/dashboard/analytics",icon:p.Z},{name:"Settings",href:"/dashboard/settings",icon:u}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"".concat(j?"block":"hidden"," fixed inset-0 flex z-40 lg:hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>N(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>N(!1),children:(0,t.jsx)(f.Z,{className:"h-6 w-6 text-white"})})}),(0,t.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 flex items-center px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:b.map(e=>{let a=e.icon,s=v.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(s?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(a,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]})]})]}),(0,t.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4",children:[(0,t.jsx)(h.Z,{className:"h-8 w-8 text-primary-600"}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"LocalMailer"})]}),(0,t.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:b.map(e=>{let a=e.icon,s=v.pathname===e.href;return(0,t.jsxs)(r(),{href:e.href,className:"".concat(s?"sidebar-link active":"sidebar-link"),children:[(0,t.jsx)(a,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center w-full",children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:"inline-block h-9 w-9 rounded-full",src:(null==g?void 0:null===(a=g.user)||void 0===a?void 0:a.image)||"/api/placeholder/36/36",alt:""})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:null==g?void 0:null===(s=g.user)||void 0===s?void 0:s.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(n=null==g?void 0:g.user)||void 0===n?void 0:n.plan)||"Free"," Plan"]})]})]})})]})}),(0,t.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-50",children:(0,t.jsx)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>N(!0),children:(0,t.jsx)(y,{className:"h-6 w-6"})})}),(0,t.jsx)("main",{className:"flex-1",children:(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d})})})]})]})}},6914:function(e,a,s){"use strict";s.r(a),s.d(a,{__N_SSP:function(){return f},default:function(){return y}});var t=s(5893),l=s(3299),i=s(9894),n=s(7294),r=s(8936),c=s(802),d=s(6271),m=s(467),o=s(8347);let x=(0,s(8387).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var h=s(1664),p=s.n(h);function u(){var e,a;let{data:s}=(0,l.useSession)(),[i,h]=(0,n.useState)({totalContacts:0,totalCampaigns:0,totalSent:0,openRate:0}),[u,f]=(0,n.useState)(!0);(0,n.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await fetch("/api/dashboard/stats");if(e.ok){let a=await e.json();h(a)}}catch(e){console.error("Error fetching stats:",e)}finally{f(!1)}};if(u)return(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-5",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},a))})]});let g=[{name:"Total Contacts",value:i.totalContacts.toLocaleString(),icon:r.Z,change:"+12%",changeType:"positive"},{name:"Campaigns Sent",value:i.totalCampaigns.toLocaleString(),icon:c.Z,change:"+8%",changeType:"positive"},{name:"Emails Delivered",value:i.totalSent.toLocaleString(),icon:d.Z,change:"+23%",changeType:"positive"},{name:"Average Open Rate",value:"".concat(i.openRate.toFixed(1),"%"),icon:m.Z,change:"+5.2%",changeType:"positive"}],v=[{name:"Import Contacts",description:"Import from Mailchimp or CSV",href:"/dashboard/contacts/import",icon:r.Z},{name:"Create Campaign",description:"Send emails to your audience",href:"/dashboard/campaigns/new",icon:c.Z},{name:"Browse Templates",description:"Ready-made email templates",href:"/dashboard/templates",icon:d.Z}];return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:["Welcome back, ",null==s?void 0:null===(a=s.user)||void 0===a?void 0:null===(e=a.name)||void 0===e?void 0:e.split(" ")[0],"!"]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Here's what's happening with your email marketing today."})]}),(0,t.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:(0,t.jsxs)(p(),{href:"/dashboard/campaigns/new",className:"btn-primary inline-flex items-center",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"New Campaign"]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:g.map(e=>{let a=e.icon;return(0,t.jsx)("div",{className:"stats-card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(a,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.value}),(0,t.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[(0,t.jsx)(x,{className:"self-center flex-shrink-0 h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Increased by"}),e.change]})]})]})})]})},e.name)})}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg mb-8",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:v.map(e=>{let a=e.icon;return(0,t.jsxs)(p(),{href:e.href,className:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 hover:shadow-md transition-all duration-200",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(a,{className:"h-6 w-6 text-primary-600"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.description})]})]},e.name)})})})]}),0===i.totalContacts&&(0,t.jsx)("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(d.Z,{className:"h-6 w-6 text-primary-600"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-primary-800",children:"Get started with LocalMailer"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-primary-700",children:(0,t.jsx)("p",{children:"Welcome to LocalMailer! To get started, import your contacts and create your first campaign."})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"-mx-2 -my-1.5 flex",children:[(0,t.jsx)(p(),{href:"/dashboard/contacts/import",className:"bg-primary-50 px-2 py-1.5 rounded-md text-sm font-medium text-primary-800 hover:bg-primary-100",children:"Import Contacts"}),(0,t.jsx)(p(),{href:"/dashboard/templates",className:"ml-3 bg-primary-50 px-2 py-1.5 rounded-md text-sm font-medium text-primary-800 hover:bg-primary-100",children:"Browse Templates"})]})})]})]})})]})}var f=!0;function y(){let{data:e,status:a}=(0,l.useSession)();return"loading"===a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?(0,t.jsx)(i.Z,{children:(0,t.jsx)(u,{})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Not authenticated"})}},1163:function(e,a,s){e.exports=s(2937)},467:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},8347:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},802:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},1203:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(8387).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[585,774,888,179],function(){return e(e.s=528)}),_N_E=e.O()}]);